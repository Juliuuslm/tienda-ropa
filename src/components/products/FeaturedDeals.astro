---
import Image from '@/components/common/Image.astro';
import Button from '@/components/common/Button.astro';

interface Deal {
  id: string;
  slug: string;
  name: string;
  price: number;
  salePrice: number;
  image: string;
  discount: number;
}

const deals: Deal[] = [
  {
    id: '1',
    slug: 'vestido-elegante-negro',
    name: 'Vestido Elegante Negro',
    price: 89.99,
    salePrice: 49.99,
    image: '/images/products/medium-size/1.jpg',
    discount: 44,
  },
  {
    id: '4',
    slug: 'chaqueta-cuero-negra',
    name: 'Chaqueta de Cuero Negra',
    price: 199.99,
    salePrice: 129.99,
    image: '/images/products/medium-size/4.jpg',
    discount: 35,
  },
  {
    id: '5',
    slug: 'vestido-verano-floral',
    name: 'Vestido Verano Floral',
    price: 59.99,
    salePrice: 39.99,
    image: '/images/products/medium-size/5.jpg',
    discount: 33,
  },
];
---

<section class="py-16 bg-white">
  <div class="container">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-2">ðŸ”¥ Ofertas del DÃ­a</h2>
      <p class="text-neutral-600">Descuentos exclusivos en nuestros mejores productos</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {
        deals.map((deal) => (
          <div class="relative bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-lg transition-shadow duration-300">
            {/* Image Container */}
            <div class="relative overflow-hidden bg-neutral-100 aspect-square">
              <Image
                src={deal.image}
                alt={deal.name}
                class="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
              />
              {/* Discount Badge */}
              <div class="absolute top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-full font-bold text-lg">
                -{deal.discount}%
              </div>
            </div>

            {/* Content */}
            <div class="p-4">
              <h3 class="text-lg font-semibold text-neutral-900 mb-2 line-clamp-2">{deal.name}</h3>

              {/* Prices */}
              <div class="flex items-center gap-2 mb-4">
                <span class="text-2xl font-bold text-red-500">${deal.salePrice.toFixed(2)}</span>
                <span class="text-lg text-neutral-500 line-through">${deal.price.toFixed(2)}</span>
              </div>

              {/* CTA */}
              <Button href={`/products/${deal.slug}`} variant="primary" size="md" class="w-full text-center">
                Ver Oferta
              </Button>
            </div>
          </div>
        ))
      }
    </div>

    {/* Call to Action */}
    <div class="text-center mt-12">
      <Button href="/shop" variant="outline" size="lg">
        Ver Todas las Ofertas
      </Button>
    </div>
  </div>
</section>
